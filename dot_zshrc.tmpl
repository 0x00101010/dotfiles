export EDITOR=/opt/homebrew/bin/nvim
export RUSTROVER_PATH="/Applications/RustRover.app/Contents/MacOS"
export PATH="/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/homebrew/bin:$RUSTROVER_PATH:$HOME/.local/bin:$PATH"
export XDG_CONFIG_HOME="$HOME/.config"

# Path to your oh-my-zsh installation.
export ZSH="$HOME/.oh-my-zsh"

plugins=(
    aws
    brew
    direnv
    docker
    docker-compose
    fzf
    git
    golang
    history-substring-search
    uni
    ssh
    zoxide
    zsh-autosuggestions
    zsh-syntax-highlighting
)

source $ZSH/oh-my-zsh.sh

# Reevaluate the prompt string each time it's displaying a prompt
# fzf-tab & completion UI (set BEFORE sourcing OMZ)
zstyle ':completion:*' menu select
zstyle ':fzf-tab:*' switch-group '<' '>'          # jump groups with < / >
zstyle ':fzf-tab:complete:*' fzf-preview 'less -R {} 2>/dev/null || cat {} 2>/dev/null'
zstyle ':fzf-tab:complete:cd:*' fzf-preview 'ls --color=always -la {} 2>/dev/null'
# Optional: make completion sorting smarter
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Za-z}' 'r:|[._-]=** r:|=**'

autoload bashcompinit && bashcompinit
autoload -Uz compinit
compinit
source <(kubectl completion zsh)
complete -C '/opt/homebrew/bin/aws_completer' aws

[[ -s "$HOME/.zsh/home.zsh" ]] && source "$HOME/.zsh/home.zsh"                          # load home specific variables
[[ -s "$HOME/.zsh/local.zsh" ]] && source "$HOME/.zsh/local.zsh"                        # load environment variables and secret keys
[[ -s "$HOME/.zsh/scripts.zsh" ]] && source "$HOME/.zsh/scripts.zsh"                    # load functions
[[ -s "$HOME/.zsh/alias.zsh" ]] && source "$HOME/.zsh/alias.zsh"                        # load aliases
[[ -s "$HOME/.zsh/ctrl-z.zsh" ]] && source "$HOME/.zsh/ctrl-z.zsh"                      # load ctrl-z command
[[ -s "$HOME/.zsh/zsh-autocomplete.zsh" ]] && source "$HOME/.zsh/zsh-autocomplete.zsh"  # load zsh-autocomplete
[[ -s "$HOME/.zsh/key-bindings.zsh" ]] && source "$HOME/.zsh/key-bindings.zsh"          # load key bindings
[[ -s "$HOME/.zsh/devnet.zsh" ]] && source "$HOME/.zsh/devnet.zsh"                      # load devnet development related helpers
[[ -s "$HOME/.zsh/history.zsh" ]] && source "$HOME/.zsh/history.zsh"                    # load devnet development related helpers

[[ -s "$HOME/.zsh/cb.zsh" ]] && source "$HOME/.zsh/cb.zsh"                              # load cb env vars
[[ -s "$HOME/.zsh/salus.zsh" ]] && source "$HOME/.zsh/salus.zsh"                        # load salus command

# list of themes for oh-my-posh
# https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/refs/heads/main/themes/amro.omp.json
# https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/refs/heads/main/themes/emodipt-extend.omp.json
# https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/refs/heads/main/themes/honukai.omp.json
# https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/refs/heads/main/themes/material.omp.json
# https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/refs/heads/main/themes/negligible.omp.json
# https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/refs/heads/main/themes/sim-web.omp.json
eval "$(oh-my-posh init zsh --config https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/refs/heads/main/themes/emodipt-extend.omp.json)"
eval "$(mise activate zsh)"
eval "$(zoxide init zsh)"
# eval "$(fzf --zsh)"
